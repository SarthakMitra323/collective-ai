<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collective AI | Intelligence, Democratized</title>
    <meta name="description" content="Collective AI - Growing stronger as the community grows.">
    <!-- Favicon -->
    <link rel="icon" href="frontend/images/Logo-favicon.png" type="image/png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Libraries -->
    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <!-- Lenis Smooth Scroll (Crucial for cinematic feel) -->
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.39/dist/lenis.min.js"></script>
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        /* --- CORE STYLES & RESET --- */
        :root {
            --bg-deep: #030305;
            --bg-panel: rgba(255, 255, 255, 0.02);
            --primary: #6366f1;
            --accent: #a855f7;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --glass-border: rgba(255, 255, 255, 0.05);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html.lenis { height: auto; }
        .lenis.lenis-smooth { scroll-behavior: auto !important; }
        .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
        .lenis.lenis-stopped { overflow: hidden; }
        .lenis.lenis-scrolling iframe { pointer-events: none; }

        body {
            background-color: var(--bg-deep); color: var(--text-main);
            font-family: 'Inter', sans-serif; overflow-x: hidden;
            -webkit-font-smoothing: antialiased; visibility: hidden; /* Prevent FOUC */
        }

        h1, h2, h3, h4, .font-display { font-family: 'Plus Jakarta Sans', sans-serif; }
        a { text-decoration: none; color: inherit; }
        img { max-width: 100%; display: block; object-fit: cover; }

        .container { max-width: 1400px; margin: 0 auto; padding: 0 2rem; }

        .gradient-text {
            background: linear-gradient(135deg, #fff 0%, #a855f7 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: inline-block;
        }

        /* --- PRELOADER --- */
        #preloader {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; justify-content: center; align-items: center; visibility: visible;
        }
        .preloader-brand { font-size: 1.5rem; font-weight: 800; font-family: 'Plus Jakarta Sans'; letter-spacing: 2px; }
        .preloader-progress {
            position: absolute; bottom: 0; left: 0; height: 3px; background: var(--primary); width: 0%;
        }

        /* --- NAVIGATION --- */
        .navbar {
            position: fixed; width: 100%; top: 0; z-index: 100; padding: 1.5rem 0;
            transition: all 0.4s ease;
        }
        .navbar.scrolled {
            background: rgba(3, 3, 5, 0.8); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            padding: 1rem 0; border-bottom: 1px solid var(--glass-border);
        }
        .nav-inner { display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 0.75rem; font-weight: 800; font-size: 1.2rem; font-family: 'Plus Jakarta Sans'; }
        .logo img { height: 24px; border-radius: 4px; }
        
        .nav-links { display: flex; gap: 2rem; }
        .nav-item { color: var(--text-muted); font-size: 0.9rem; font-weight: 500; transition: color 0.3s; }
        .nav-item:hover { color: var(--text-main); }
        
        .nav-btn {
            background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border);
            padding: 0.5rem 1.25rem; border-radius: 50px; font-size: 0.85rem; font-weight: 600;
            transition: all 0.3s;
        }
        .nav-btn:hover { background: #fff; color: #000; }
        
        .menu-toggle { display: none; font-size: 1.5rem; cursor: pointer; }

        /* --- CINEMATIC HERO --- */
        .hero-section {
            height: 100vh; height: 100dvh; display: flex; align-items: center; justify-content: center;
            position: relative; overflow: hidden;
        }
        .hero-bg {
            position: absolute; inset: 0; z-index: 0;
            background: radial-gradient(circle at center, rgba(99,102,241,0.15) 0%, transparent 60%);
            transform-origin: center center;
        }
        .hero-content {
            position: relative; z-index: 1; text-align: center; max-width: 1000px; padding-top: 5vh;
        }
        .hero-label {
            display: inline-block; padding: 0.5rem 1rem; border-radius: 50px;
            border: 1px solid rgba(168,85,247,0.3); background: rgba(168,85,247,0.05);
            color: #d8b4fe; font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase;
            margin-bottom: 2rem;
        }
        .hero-title {
            font-size: clamp(3.5rem, 8vw, 7rem); font-weight: 800; line-height: 1.05;
            letter-spacing: -0.04em; margin-bottom: 1.5rem;
        }
        .hero-desc {
            font-size: clamp(1.1rem, 2vw, 1.4rem); color: var(--text-muted);
            max-width: 600px; margin: 0 auto 3rem auto; line-height: 1.6;
        }
        .btn-primary {
            display: inline-block; background: #fff; color: #000;
            padding: 1rem 2.5rem; border-radius: 50px; font-weight: 700; font-size: 1rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .btn-primary:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(255,255,255,0.2); }

        /* --- HORIZONTAL MARQUEE (CSS Animated for smoothness and readability) --- */
        .marquee-section { 
            padding: 4rem 0; overflow: hidden; white-space: nowrap; 
            border-top: 1px solid var(--glass-border); border-bottom: 1px solid var(--glass-border); 
            display: flex; background: rgba(0, 0, 0, 0.3);
        }
        .marquee-content { 
            display: flex; animation: scrollMarquee 35s linear infinite; padding-right: 2rem; 
        }
        .marquee-text {
            font-family: 'Plus Jakarta Sans'; font-weight: 800; font-size: clamp(2rem, 5vw, 4.5rem);
            color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: -0.01em;
        }
        .marquee-text span { color: #fff; }

        @keyframes scrollMarquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        /* --- CINEMATIC PINNED SEQUENCE --- */
        .story-container { position: relative; background: var(--bg-deep); }
        .story-scroll-area { height: 400vh; position: relative; } 
        
        .story-pin-wrap {
            position: sticky; top: 0; height: 100vh; height: 100dvh; display: flex; align-items: center; overflow: hidden;
        }

        .story-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; width: 100%; 
            height: 80vh; max-height: 800px; max-width: 1400px; margin: 0 auto; padding: 0 2rem;
        }

        /* Left side: Text (High z-index to stay above images) */
        .story-text-col { 
            position: relative; display: flex; flex-direction: column; justify-content: center; 
            height: 100%; z-index: 10; 
        }
        .story-text-block { 
            position: absolute; left: 0; right: 0; opacity: 0; transform: translateY(50px); 
        }
        
        .story-step-num { font-size: 0.9rem; color: var(--primary); font-family: 'Plus Jakarta Sans'; font-weight: 700; margin-bottom: 1rem; letter-spacing: 2px;}
        .story-text-block h2 { font-size: clamp(2.5rem, 4vw, 4rem); line-height: 1.1; margin-bottom: 1.5rem; letter-spacing: -0.02em; text-shadow: 0 4px 30px rgba(0,0,0,1); }
        .story-text-block p { font-size: 1.15rem; color: #f1f5f9; max-width: 450px; line-height: 1.6; text-shadow: 0 2px 15px rgba(0,0,0,1); font-weight: 500; }

        /* Right side: Image Sequence */
        .story-img-col { 
            position: relative; height: 100%; border-radius: 24px; overflow: hidden; 
            border: 1px solid var(--glass-border); z-index: 1; background: #000;
        }
        .story-img {
            position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover;
            opacity: 0; transform: scale(1.1); filter: brightness(0.6) contrast(1.1);
        }
        /* Fade edge to blend with background and darken behind text */
        .story-img::after {
            content: ''; position: absolute; inset: 0; 
            background: linear-gradient(to right, var(--bg-deep) 0%, rgba(3,3,5,0.6) 40%, transparent 100%);
        }

        /* --- THE CORE (Dark Mode Detail) --- */
        .core-section { padding: 8rem 0; position: relative; text-align: center; }
        .core-section::before {
            content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 1px; height: 80px; background: linear-gradient(to bottom, transparent, var(--primary));
        }
        .core-box {
            background: rgba(255,255,255,0.01); border: 1px solid var(--glass-border);
            border-radius: 32px; padding: 4rem 2rem; max-width: 1000px; margin: 0 auto;
            position: relative; overflow: hidden;
            box-shadow: 0 0 100px rgba(99, 102, 241, 0.05);
        }
        .core-box h2 { font-size: clamp(2rem, 5vw, 4rem); margin-bottom: 1.5rem; }
        .core-box p { color: var(--text-muted); font-size: 1.15rem; max-width: 600px; margin: 0 auto 3rem auto; }

        /* --- FOOTER --- */
        footer { padding: 3rem 2rem; border-top: 1px solid var(--glass-border); text-align: center; }
        footer .logo { justify-content: center; margin-bottom: 1rem; opacity: 0.5; }
        footer p { color: var(--text-muted); font-size: 0.9rem; }

        /* --- MOBILE RESPONSIVE --- */
        @media (max-width: 968px) {
            .story-grid { 
                grid-template-columns: 1fr; grid-template-rows: auto 1fr; gap: 2rem; 
                height: 100dvh; padding-top: 15dvh; padding-bottom: 5dvh; 
            }
            .story-text-col { height: 30vh; justify-content: flex-start; }
            .story-text-block { position: absolute; top: 0; }
            .story-text-block h2 { font-size: 2.25rem; margin-bottom: 1rem; }
            .story-text-block p { font-size: 1rem; }
            
            .story-img-col { height: 100%; min-height: 0; border-radius: 16px; }
            /* Stronger fade top edge on mobile to ensure text readability */
            .story-img::after { background: linear-gradient(to top, transparent 40%, rgba(3,3,5,0.8) 75%, var(--bg-deep) 100%); }
        }

        @media (max-width: 768px) {
            .nav-links, .nav-actions { display: none; }
            .menu-toggle { display: block; color: #fff; }
            .hero-title { font-size: 3rem; }
            .hero-desc { font-size: 1rem; }
            .core-box { padding: 3rem 1.5rem; border-radius: 20px; }
            .marquee-section { padding: 2.5rem 0; }
        }
    </style>
</head>
<body>

    <!-- PRELOADER -->
    <div id="preloader">
        <div class="preloader-brand">COLLECTIVE</div>
        <div class="preloader-progress" id="progress-bar"></div>
    </div>

    <!-- NAVBAR -->
    <nav class="navbar" id="navbar">
        <div class="container nav-inner">
            <a href="#" class="logo">
                <img src="frontend/images/Logo.png" alt="C">
                <span>Collective AI</span>
            </a>
            <div class="nav-links">
                <a href="#vision" class="nav-item">Vision</a>
                <a href="#engine" class="nav-item">The Engine</a>
                <!-- Updated Link to Auth Page -->
                <a href="frontend/app.html" class="nav-item">Contribute</a>
            </div>
            <div class="nav-actions">
                <a href="frontend/app.html" class="nav-btn">Launch Core</a>
            </div>
            <div class="menu-toggle"><i class="ph ph-list"></i></div>
        </div>
    </nav>

    <!-- CINEMATIC HERO -->
    <section class="hero-section" id="hero">
        <div class="hero-bg" id="hero-bg"></div>
        <div class="container hero-content">
            <div class="hero-label">Human Synthesis Engine v1.0</div>
            <h1 class="hero-title">
                <div class="title-line">Intelligence</div>
                <div class="title-line">Beyond The <span class="gradient-text">Individual</span></div>
            </h1>
            <p class="hero-desc">The first neural network trained not by scraping the dark web, but by synthesizing the verified wisdom of experts.</p>
            <a href="frontend/app.html" class="btn-primary">Initialize Access</a>
        </div>
    </section>

    <!-- MASSIVE SCROLLING TEXT (CSS Animated) -->
    <section class="marquee-section" id="vision">
        <!-- Duplicate content blocks for seamless infinite scroll -->
        <div class="marquee-content">
            <h2 class="marquee-text">
                Stop trusting <span>statistical guesses</span> &nbsp;•&nbsp; Demand <span>verified wisdom</span> &nbsp;•&nbsp; 
            </h2>
        </div>
        <div class="marquee-content">
            <h2 class="marquee-text">
                Stop trusting <span>statistical guesses</span> &nbsp;•&nbsp; Demand <span>verified wisdom</span> &nbsp;•&nbsp; 
            </h2>
        </div>
        <div class="marquee-content">
            <h2 class="marquee-text">
                Stop trusting <span>statistical guesses</span> &nbsp;•&nbsp; Demand <span>verified wisdom</span> &nbsp;•&nbsp; 
            </h2>
        </div>
    </section>

    <!-- PINNED STORY SEQUENCE (THE SHOWSTOPPER) -->
    <section class="story-container" id="engine">
        <div class="story-scroll-area" id="story-trigger">
            <div class="story-pin-wrap" id="story-pin">
                
                <div class="story-grid">
                    <!-- Text Side (Z-index strictly higher to prevent overlap glitches) -->
                    <div class="story-text-col">
                        
                        <!-- Step 1 -->
                        <div class="story-text-block step-text-1">
                            <div class="story-step-num">01 // INGESTION</div>
                            <h2 class="font-display">Contribute<br>Expertise.</h2>
                            <p>You provide the raw material. Write detailed articles, solve complex problems, and share your unique domain knowledge directly into the Collective Database.</p>
                        </div>

                        <!-- Step 2 -->
                        <div class="story-text-block step-text-2">
                            <div class="story-step-num">02 // VECTORIZATION</div>
                            <h2 class="font-display">Neural<br>Mapping.</h2>
                            <p>Our Retrieval-Augmented Generation (RAG) system instantly converts your text into mathematical vectors, finding hidden semantic connections between thousands of minds.</p>
                        </div>

                        <!-- Step 3 -->
                        <div class="story-text-block step-text-3">
                            <div class="story-step-num">03 // SYNTHESIS</div>
                            <h2 class="font-display">Collective<br>Recall.</h2>
                            <p>When asked a question, the AI doesn't hallucinate. It queries the vector space, retrieving verified human contributions to construct a perfectly synthesized answer.</p>
                        </div>

                    </div>

                    <!-- Image Side -->
                    <div class="story-img-col">
                        <!-- Premium Dark Abstract Textures -->
                        <img src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=1400&auto=format&fit=crop" class="story-img step-img-1" alt="Abstract Pattern">
                        <img src="https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=1400&auto=format&fit=crop" class="story-img step-img-2" alt="Neural Network Concept">
                        <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=1400&auto=format&fit=crop" class="story-img step-img-3" alt="Data Flow Concept">
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- THE CORE / CTA -->
    <section class="core-section">
        <div class="container">
            <div class="core-box">
                <h2 class="font-display">The Neural Fabric Awaits</h2>
                <p>An intelligence that evolves in real-time. Transparent, verifiable, and endlessly scalable. Become a node in the network.</p>
                <a href="frontend/app.html" class="btn-primary">Access Dashboard</a>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="logo">
                <img src="frontend/images/Logo.png" alt="C">
                <span>Collective AI</span>
            </div>
            <p>&copy; 2026 Collective AI Core. All systems operational.</p>
        </div>
    </footer>

    <!-- Script for Security -->
    <script src="frontend/security.js"></script>

    <!-- CORE ANIMATION LOGIC -->
    <script>
        // 1. Initialize Lenis Smooth Scrolling
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            gestureDirection: 'vertical',
            smooth: true,
            mouseMultiplier: 1,
            smoothTouch: false,
            touchMultiplier: 2,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // Sync Lenis with GSAP ScrollTrigger
        gsap.registerPlugin(ScrollTrigger);
        lenis.on('scroll', ScrollTrigger.update);
        gsap.ticker.add((time)=>{ lenis.raf(time * 1000) });
        gsap.ticker.lagSmoothing(0);

        // 2. Preloader Animation
        window.addEventListener("load", () => {
            const tl = gsap.timeline();
            tl.to("#progress-bar", { width: "100%", duration: 1.5, ease: "power3.inOut" })
              .to("#preloader", { yPercent: -100, duration: 0.8, ease: "power4.inOut" })
              .set("body", { visibility: "visible" })
              .call(initCinematicGSAP); // Start main animations after load
        });

        // 3. Main GSAP Timeline Integrations
        function initCinematicGSAP() {
            
            // --- Hero Entrance ---
            gsap.from(".hero-label", { y: 20, opacity: 0, duration: 1, delay: 0.2 });
            gsap.from(".title-line", { y: 100, opacity: 0, duration: 1.2, stagger: 0.1, ease: "power4.out", delay: 0.4 });
            gsap.from(".hero-desc, .hero-content .btn-primary", { y: 20, opacity: 0, duration: 1, stagger: 0.2, delay: 0.8 });

            // --- Hero Scroll Scrub (Zoom effect on scroll) ---
            gsap.to(".hero-content", {
                scrollTrigger: { trigger: ".hero-section", start: "top top", end: "bottom top", scrub: true },
                y: 200, scale: 0.9, opacity: 0, ease: "none"
            });
            gsap.to("#hero-bg", {
                scrollTrigger: { trigger: ".hero-section", start: "top top", end: "bottom top", scrub: true },
                scale: 1.5, opacity: 0, ease: "none"
            });

            // --- Navbar Glass Effect ---
            ScrollTrigger.create({
                start: "top -50", end: 99999, toggleClass: { className: "scrolled", targets: ".navbar" }
            });

            // --- THE SHOWSTOPPER: PINNED STORY SEQUENCE ---
            // Explicitly defining initial states prevents mid-scroll glitches
            gsap.set(".step-text-1", { opacity: 1, y: 0 });
            gsap.set(".step-text-2", { opacity: 0, y: 50 });
            gsap.set(".step-text-3", { opacity: 0, y: 50 });
            gsap.set(".step-img-1", { opacity: 1, scale: 1 });
            gsap.set(".step-img-2", { opacity: 0, scale: 1.1 });
            gsap.set(".step-img-3", { opacity: 0, scale: 1.1 });

            const storyTl = gsap.timeline({
                scrollTrigger: {
                    trigger: "#story-trigger",
                    start: "top top",
                    end: "bottom bottom", // Ties animation progress to the 400vh scroll area
                    scrub: 1, // Smooth scrubbing
                    pin: "#story-pin", // Pins the visual container securely
                    anticipatePin: 1
                }
            });

            // Transition 1 to 2
            storyTl.to(".step-text-1", { opacity: 0, y: -50, duration: 1 })
                   .to(".step-img-1", { opacity: 0, duration: 1 }, "<")
                   .to(".step-text-2", { opacity: 1, y: 0, duration: 1 }, "<0.2")
                   .to(".step-img-2", { opacity: 1, scale: 1, duration: 1 }, "<")
                   .to({}, {duration: 0.5}) // Hold state
                   
            // Transition 2 to 3
                   .to(".step-text-2", { opacity: 0, y: -50, duration: 1 })
                   .to(".step-img-2", { opacity: 0, duration: 1 }, "<")
                   .to(".step-text-3", { opacity: 1, y: 0, duration: 1 }, "<0.2")
                   .to(".step-img-3", { opacity: 1, scale: 1, duration: 1 }, "<")
                   .to({}, {duration: 0.5}); // Final hold

            // --- The Core CTA Box ---
            gsap.from(".core-box", {
                scrollTrigger: { trigger: ".core-section", start: "top 70%" },
                y: 100, opacity: 0, duration: 1.5, ease: "power4.out"
            });
        }
    </script>
</body>
</html>


